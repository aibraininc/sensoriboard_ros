= Sensorimotor calibration with ROS for Gretchen Head 
Doc Writer <wwchung91@gmail.com>
v0.1, 2019-03-28
:imagesdir: ./image
:toc:

_This is the manual for calibrating motors using sensoriboards to ROS.
Following these steps will enable you to calibrate sensoriboards with ROS._

[cols="a,a"]
|====
| image::before_assembly.png[Gretchen head] | image::after_assembly.png[Gretchen head]
|====



=== Recommended Tools
You will need these to calibrate.

Should have picture

* Motor with sensoriboard
* Computer 

== Step 0. Find document about the motor
We need to find the max travel distance of the motor. For example, you can find the max travel distance at https://www.servocity.com/hs-81.
For HS-81 and HS-82MG the max travel distance is 165 degree and 2.87979 in radian

== Step 1. Find the raw encoder values of the motor 

=== Step 1.1 Connect the sensorimotor and run 
	python example_current_pos.py

The terminal returns two values. The first value is the raw pan positon and the second value is the raw tilt position 


=== Step 1.2 Get the min and max value of the pan and tilt by moving the robot head left, right, up, down with your hands. 

[cols="a,a,a,a"]
|====
| image::IMG_7295.jpg[320,240] | image::IMG_7296.jpg[320,240] | image::IMG_7297.jpg[320,240] | image::IMG_7298.jpg[320,240] 
|====

The values printed on the terminal will be used as min, max for pan and tilt.

=== Step 1.3 Update the configuration file 

Open py/motor_param_test.yaml

For both pan and tilt

* Update act_rad with the max travel distance of the motor (in radians) we found at Step 0. 
* Update act_min with the min value for pan or tilt we found at step 1.2 
* Update act_max with the max value for pan or tilt we found at step 1.2 

	
